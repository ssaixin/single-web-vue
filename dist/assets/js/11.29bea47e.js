(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{369:function(t,a,s){"use strict";s.r(a);var n=s(44),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"前言"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),s("p",[t._v("这里主要通过以下两种插件来实现微前端初步测试的：")]),t._v(" "),s("p",[t._v("1、 "),s("a",{attrs:{target:"“_blank”",href:"https://github.com/systemjs/systemjs"}},[t._v("SystemJs")])]),t._v(" "),s("p",[t._v("首先是我们的SystemJS，它提供通用的模块导入途径，支持传统模块和ES6的模块。 SystemJs有两个版本，6.x版本是在浏览器中使用的，0.21版本的是在浏览器和node环境中使用的，两者的使用方式不同。在微服务中主要充当加载器的角色。")]),t._v(" "),s("p",[t._v("2、 "),s("a",{attrs:{target:"“_blank”",href:"https://single-spa.js.org/docs/getting-started-overview.html"}},[t._v("single-spa")])]),t._v(" "),s("p",[t._v("single-spa是一个在前端应用程序中将多个javascript应用集合在一起的框架。主要充当包装器的角色。")]),t._v(" "),s("h1",{attrs:{id:"single-spa简单介绍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#single-spa简单介绍"}},[t._v("#")]),t._v(" single-spa简单介绍")]),t._v(" "),s("p",[t._v("在微前端介绍部分就已经提过了"),s("code",[t._v("single-spa")]),t._v("，在这里就简单的引用一下最好理解的一个说法：")]),t._v(" "),s("p",[t._v("在娘胎里，熊大、熊二、熊三...熊n 都是熊妈妈的宝宝。做b超时都能看到各个熊宝宝的表现和各自的行为，但是总体上，它们都在熊妈妈的肚子里。")]),t._v(" "),s("p",[t._v("而熊妈妈就属于这个single-spa包装后的平台， 而每个熊宝宝都是独立的，有各自的行为状态")]),t._v(" "),s("h1",{attrs:{id:"single-spa的简单原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#single-spa的简单原理"}},[t._v("#")]),t._v(" single-spa的简单原理")]),t._v(" "),s("p",[t._v("实现一套微前端架构，可以把其分成四部分（参考："),s("a",{attrs:{target:"“_blank”",href:"https://alili.tech/archive/11052bf4/"}},[t._v("https://alili.tech/archive/11052bf4/")]),t._v("）")]),t._v(" "),s("p",[t._v("加载器：也就是微前端架构的核心，主要用来调度子应用，决定何时展示哪个子应用， 可以把它理解成电源。")]),t._v(" "),s("p",[t._v("包装器：有了加载器，可以把现有的应用包装，使得加载器可以使用它们，它相当于电源适配器。")]),t._v(" "),s("p",[t._v("主应用：一般是包含所有子应用公共部分的项目—— 它相当于电器底座")]),t._v(" "),s("p",[t._v("子应用：众多展示在主应用内容区的应用—— 它相当于你要使用的电器")]),t._v(" "),s("p",[t._v("所以是这么个概念：电源(加载器)→电源适配器(包装器)→️电器底座(主应用)→️电器(子应用)️")]),t._v(" "),s("p",[t._v("总的来说是这样一个流程：用户访问"),s("code",[t._v("index.html")]),t._v("后，浏览器运行加载器的"),s("code",[t._v("js")]),t._v("文件，加载器去配置文件，然后注册配置文件中配置的各个子应用后，首先加载主应用(菜单等)，再通过路由判定，动态远程加载子应用。")]),t._v(" "),s("p",[t._v("通俗一点就是子项目中的"),s("code",[t._v("link/script")]),t._v("标签和"),s("code",[t._v('<div id="app"></div>')]),t._v("插入到主项目，而这个操作的核心就是动态加载js和css。")]),t._v(" "),s("p",[t._v("动态加载js我们使用的是"),s("code",[t._v("system.js")]),t._v("（SystemJS 是一个通用的模块加载器，它能在浏览器或者 "),s("code",[t._v("NodeJS")]),t._v(" 上动态加载模块，并且支持 "),s("code",[t._v("CommonJS")]),t._v("、"),s("code",[t._v("AMD")]),t._v("、"),s("code",[t._v("全局模块对象")]),t._v("和 "),s("code",[t._v("ES6")]),t._v(" 模块。通过使用插件，它不仅可以加载 "),s("code",[t._v("JavaScript")]),t._v("，还可以加载 "),s("code",[t._v("CoffeeScript")]),t._v("和 "),s("code",[t._v("TypeScript")]),t._v("。）,借助这个插件，我们只需要将子项目的"),s("code",[t._v("app.js")]),t._v("暴露给它即可。")]),t._v(" "),s("h1",{attrs:{id:"single-spa实现步骤"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#single-spa实现步骤"}},[t._v("#")]),t._v(" single-spa实现步骤")]),t._v(" "),s("p",[t._v("要实现的效果就是子项目独立开发部署，顺便还能被主项目集成。")]),t._v(" "),s("p",[t._v("（这里对vue熟一点，demo代码都是通过vue来编写的，当然也可以采用其它的，比如react或者原生JS等）")]),t._v(" "),s("h2",{attrs:{id:"新建一个项目文件夹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#新建一个项目文件夹"}},[t._v("#")]),t._v(" 新建一个项目文件夹")]),t._v(" "),s("p",[s("code",[t._v("mkdir single-demo-vue")])]),t._v(" "),s("p",[s("code",[t._v("cd single-demo-vue")])]),t._v(" "),s("p",[t._v("接下来的所有代码都会在该目录中完成。")]),t._v(" "),s("h2",{attrs:{id:"新建子应用program1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#新建子应用program1"}},[t._v("#")]),t._v(" 新建子应用program1")]),t._v(" "),s("p",[s("code",[t._v("vue create program1")])]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),s("p",[t._v("以下所有的操作都在项目根目录/single-demo-vue/program1下完成")])]),t._v(" "),s("h3",{attrs:{id:"配置子应用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置子应用"}},[t._v("#")]),t._v(" 配置子应用")]),t._v(" "),s("p",[t._v("在项目根目录下新建vue.config.js文件")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[t._v("const package = require('./package.json')\nmodule.exports = {\n  // 告诉子应用在这个地址加载静态资源，否则会去基座应用的域名下加载\n  publicPath: '//localhost:8081',\n  // 开发服务器\n  devServer: {\n    port: 8081\n  },\n  configureWebpack: {\n    // 导出umd格式的包，在全局对象上挂载属性package.name，基座应用需要通过这个全局对象获取一些信息，比如子应用导出的生命周期函数\n    output: {\n      // library的值在所有子应用中需要唯一\n      library: package.name,\n      libraryTarget: 'umd'\n    }\n  }\n}\n")])])]),s("h3",{attrs:{id:"安装single-spa-vue"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装single-spa-vue"}},[t._v("#")]),t._v(" 安装single-spa-vue")]),t._v(" "),s("p",[s("code",[t._v("npm i single-spa-vue -S")])]),t._v(" "),s("p",[t._v("single-spa-vue负责为vue应用生成通用的生命周期钩子，在子应用注册到single-spa的主应用时需要用到")]),t._v(" "),s("h3",{attrs:{id:"改造入口文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#改造入口文件"}},[t._v("#")]),t._v(" 改造入口文件")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[t._v("// /src/main.js\nimport Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport singleSpaVue from 'single-spa-vue'\n \nVue.config.productionTip = false\n \nconst appOptions = {\n  el: '#microApp',\n  router,\n  render: h => h(App)\n}\n \n// 支持应用独立运行、部署，不依赖于基座应用\nif (!window.singleSpaNavigate) {\n  delete appOptions.el\n  new Vue(appOptions).$mount('#app')\n}\n \n// 基于基座应用，导出生命周期函数\nconst vueLifecycle = singleSpaVue({\n  Vue,\n  appOptions\n})\n \nexport function bootstrap (props) {\n  console.log('program1 bootstrap')\n  return vueLifecycle.bootstrap(() => {})\n}\n \nexport function mount (props) {\n  console.log('program1 mount')\n  return vueLifecycle.mount(() => {})\n}\n \nexport function unmount (props) {\n  console.log('program1 unmount')\n  return vueLifecycle.unmount(() => {})\n}\n")])])]),s("h3",{attrs:{id:"更改视图文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更改视图文件"}},[t._v("#")]),t._v(" 更改视图文件")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- /views/Home.vue --\x3e")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("home"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("h1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("program1 home page"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("h1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- /views/About.vue --\x3e")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("about"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("h1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("program1 about page"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("h1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("h3",{attrs:{id:"环境配置文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#环境配置文件"}},[t._v("#")]),t._v(" 环境配置文件")]),t._v(" "),s("p",[s("code",[t._v(".env")]),t._v("\n应用独立运行时的开发环境配置")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[t._v("NODE_ENV=development\nVUE_APP_BASE_URL=/\n")])])]),s("p",[s("code",[t._v(".env.micro")]),t._v("\n作为子应用运行时的开发环境配置")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[t._v("NODE_ENV=development\nVUE_APP_BASE_URL=/program1\n")])])]),s("p",[s("code",[t._v(".env.buildMicro")]),t._v("\n作为子应用构建生产环境bundle时的环境配置，但这里的NODE_ENV为development，而不是production，是为了方便，这个方便其实single-spa带来的弊端（js entry的弊端）")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[t._v("NODE_ENV=development\nVUE_APP_BASE_URL=/program1\n")])])]),s("h3",{attrs:{id:"修改路由文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改路由文件"}},[t._v("#")]),t._v(" 修改路由文件")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[t._v("\n// /src/router/index.js\n// ...\nconst router = new VueRouter({\n  mode: 'history',\n  // 通过环境变量来配置路由的 base url\n  base: process.env.VUE_APP_BASE_URL,\n  routes\n})\n// ...\n")])])]),s("h3",{attrs:{id:"修改package-json中的script"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改package-json中的script"}},[t._v("#")]),t._v(" 修改package.json中的script")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[t._v('{\n  "name": "program1",\n  // ...\n  "scripts": {\n    // 独立运行\n    "serve": "vue-cli-service serve",\n    // 作为子应用运行\n    "serve:micro": "vue-cli-service serve --mode micro",\n    // 构建子应用\n    "build": "vue-cli-service build --mode buildMicro"\n  },\n    // ...\n}\n')])])]),s("h3",{attrs:{id:"启动子应用program1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动子应用program1"}},[t._v("#")]),t._v(" 启动子应用program1")]),t._v(" "),s("p",[t._v("program1独立运行")]),t._v(" "),s("p",[s("code",[t._v("npm run serve")])]),t._v(" "),s("p",[t._v("作为子应用运行（会在pathname的开头加了/program1前缀）")]),t._v(" "),s("p",[s("code",[t._v("npm run serve:micro")])]),t._v(" "),s("p",[t._v("作为独立应用访问")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/pic03.png",alt:""}})]),t._v(" "),s("h2",{attrs:{id:"创建子应用program2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建子应用program2"}},[t._v("#")]),t._v(" 创建子应用program2")]),t._v(" "),s("p",[t._v("在/single-demo-vue目录下新建子应用program2，步骤同program1，只需把过程中出现的'program1'字样改成'program2'即可，vue.config.js中的8081改成8082`")]),t._v(" "),s("p",[t._v("启动应用program2，作为独立应用访问")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/pic04.png",alt:""}})]),t._v(" "),s("h2",{attrs:{id:"新建主应用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#新建主应用"}},[t._v("#")]),t._v(" 新建主应用")]),t._v(" "),s("p",[t._v("创建一个主应用root-html-file，这个主应用只需要简单的起一个服务访问静态资源即可。")]),t._v(" "),s("p",[s("code",[t._v("vue create root-html-file")])]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),s("p",[t._v("以下所有的操作都在项目根目录/single-spa-vue/root-html-file下完成")])]),t._v(" "),s("h3",{attrs:{id:"安装single-spa"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装single-spa"}},[t._v("#")]),t._v(" 安装single-spa")]),t._v(" "),s("p",[s("code",[t._v("npm i single-spa -S")])]),t._v(" "),s("h3",{attrs:{id:"入口文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#入口文件"}},[t._v("#")]),t._v(" 入口文件")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[t._v("// src/main.js\nimport Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport { registerApplication, start } from 'single-spa'\n \nVue.config.productionTip = false\n \n// 远程加载子应用\nfunction createScript(url) {\n  return new Promise((resolve, reject) => {\n    const script = document.createElement('script')\n    script.src = url\n    script.onload = resolve\n    script.onerror = reject\n    const firstScript = document.getElementsByTagName('script')[0]\n    firstScript.parentNode.insertBefore(script, firstScript)\n  })\n}\n \n// 记载函数，返回一个 promise\nfunction loadApp(url, globalVar) {\n  // 支持远程加载子应用\n  return async () => {\n    await createScript(url + '/js/chunk-vendors.js')\n    await createScript(url + '/js/app.js')\n    // 这里的return很重要，需要从这个全局对象中拿到子应用暴露出来的生命周期函数\n    return window[globalVar]\n  }\n}\n \n// 子应用列表\nconst apps = [\n  {\n    // 子应用名称\n    name: 'program1',\n    // 子应用加载函数，是一个promise\n    app: loadApp('http://localhost:8081', 'program1'),\n    // 当路由满足条件时（返回true），激活（挂载）子应用\n    activeWhen: location => location.pathname.startsWith('/program1'),\n    // 传递给子应用的对象\n    customProps: {}\n  },\n  {\n    name: 'program2',\n    app: loadApp('http://localhost:8082', 'program2'),\n    activeWhen: location => location.pathname.startsWith('/program2'),\n    customProps: {}\n  },\n]\n \n// 注册子应用\nfor (let i = apps.length - 1; i >= 0; i--) {\n  registerApplication(apps[i])\n}\n \nnew Vue({\n  router,\n  mounted() {\n    // 启动\n    start()\n  },\n  render: h => h(App)\n}).$mount('#app')\n")])])]),s("h3",{attrs:{id:"app-vue"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#app-vue"}},[t._v("#")]),t._v(" App.vue")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("nav"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("router-link")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("to")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("/program1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("program1"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("router-link")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" |\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("router-link")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("to")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("/program2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("program2"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("router-link")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 子应用容器 --\x3e")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("microApp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("router-view")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n \n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("style")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token style"}},[s("span",{pre:!0,attrs:{class:"token language-css"}},[t._v("\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("#app")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-family")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Avenir"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Helvetica"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Arial"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sans-serif"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("-webkit-font-smoothing")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" antialiased"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("-moz-osx-font-smoothing")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" grayscale"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("text-align")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" center"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("color")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #2c3e50"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n \n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("#nav")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("padding")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 30px"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n \n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("#nav a")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-weight")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" bold"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("color")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #2c3e50"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n \n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("#nav a.router-link-exact-active")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("color")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #42b983"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("style")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("h3",{attrs:{id:"路由"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#路由"}},[t._v("#")]),t._v(" 路由")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[t._v("import Vue from 'vue'\nimport VueRouter from 'vue-router'\n \nVue.use(VueRouter)\n \nconst routes = []\n \nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n})\n \nexport default router\n")])])]),s("h2",{attrs:{id:"启动主应用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动主应用"}},[t._v("#")]),t._v(" 启动主应用")]),t._v(" "),s("p",[s("code",[t._v("npm run serve")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/pic06.png",alt:""}}),t._v(" "),s("img",{attrs:{src:"/images/pic05.png",alt:""}})])])}),[],!1,null,null,null);a.default=e.exports}}]);